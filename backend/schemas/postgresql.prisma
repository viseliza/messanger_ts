datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id          Int      @id @default(autoincrement())
    novsu_login String   @unique
    novsu_pass  String
    profile     Profile?
}

model Profile {
    id          Int      @id @default(autoincrement())
    email       String?  @unique
    first_n     String?
    last_n      String?
    father_n    String?
    theme       Theme    @default(white)
    role        Role     @default(STUDENT)
    user        User?    @relation(fields: [user_id], references: [id])
    user_id     Int?     @unique
    group       Group?   @relation("ProfileToGroup", fields: [group_id], references: [id])
    group_id    Int?
}

model Group {
    id          Int      @id @default(autoincrement())
    name        String   @unique
    href        String?

    profiles Profile[] @relation("ProfileToGroup")
}


enum Role {
    STUDENT
    TEACHER
}

enum Theme {
    white
    black
}